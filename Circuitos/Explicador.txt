ðŸ”¹ 2. Ative os PerifÃ©ricos
âœ… ADC1 â€“ 8 canais
VÃ¡ atÃ© Peripherals > ADC > ADC1

Configure os canais:

IN0 â†’ PA0

IN1 â†’ PA1

IN2 â†’ PA2

IN3 â†’ PA3

IN4 â†’ PA4

IN5 â†’ PA5

IN6 â†’ PA6

IN7 â†’ PA7

Na aba Configuration (ADC1):

Scan Conversion Mode: Enabled

Continuous Conversion: Enabled

DMA Continuous Requests: Enabled

Number of conversions: 8

âœ… DMA1 Channel1
VÃ¡ em DMA Settings (na janela do ADC1)

Adicione DMA1 Channel1

Mode: Circular

âœ… SPI1 â€“ CartÃ£o SD
Ative SPI1

Configure os pinos:

SCK â†’ PA5

MISO â†’ PA6

MOSI â†’ PA7

Adicione PA4 como GPIO Output (CS do SD Card)

âœ… I2C1 â€“ RTC DS3231
Ative I2C1

Configure os pinos:

SCL â†’ PB6

SDA â†’ PB7

âœ… FatFs
VÃ¡ atÃ© Middleware > FatFs

Enable

Interface: User-defined

(Opcional) âœ… USART1 â€“ Serial Debug
Ative USART1

TX â†’ PA9

RX â†’ PA10

Baudrate: 115200

ðŸ”¹ 3. Clock Configuration
Use HSE (cristal externo) ou HSI com PLL

Configure SYSCLK para 72 MHz

ðŸ”¹ 4. Project Manager
Nome: DataLogger

Toolchain: STM32CubeIDE

Clique em Generate Code